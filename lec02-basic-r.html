<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />


<meta name="author" content="Joel Östblom &amp; Ahmed Hasan" />


<title>Introduction to R: Vectors, functions, data frames</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/lumen.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />
<link rel="icon" type="image/png" href="image/favicon.png">
<style type="text/css">

table {
    border-collapse: collapse;
}

thead {
    border-top: solid #DCDCDC;
    border-bottom: solid #DCDCDC;
}

tr.odd {
    background-color: #F8F8F8;
}

tr:last-child {
    border-bottom: solid #DCDCDC;
}

</style>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; } /* Alert */
code span.an { color: #008000; } /* Annotation */
code span.at { } /* Attribute */
code span.bu { } /* BuiltIn */
code span.cf { color: #0000ff; } /* ControlFlow */
code span.ch { color: #008080; } /* Char */
code span.cn { } /* Constant */
code span.co { color: #008000; } /* Comment */
code span.cv { color: #008000; } /* CommentVar */
code span.do { color: #008000; } /* Documentation */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.im { } /* Import */
code span.in { color: #008000; } /* Information */
code span.kw { color: #0000ff; } /* Keyword */
code span.op { } /* Operator */
code span.ot { color: #ff4000; } /* Other */
code span.pp { color: #ff4000; } /* Preprocessor */
code span.sc { color: #008080; } /* SpecialChar */
code span.ss { color: #008080; } /* SpecialString */
code span.st { color: #008080; } /* String */
code span.va { } /* Variable */
code span.vs { color: #008080; } /* VerbatimString */
code span.wa { color: #008000; font-weight: bold; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' || rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 54px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 59px;
  margin-top: -59px;
}
.section h2 {
  padding-top: 59px;
  margin-top: -59px;
}
.section h3 {
  padding-top: 59px;
  margin-top: -59px;
}
.section h4 {
  padding-top: 59px;
  margin-top: -59px;
}
.section h5 {
  padding-top: 59px;
  margin-top: -59px;
}
.section h6 {
  padding-top: 59px;
  margin-top: -59px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->



<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3,h4",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = false;
    options.smoothScroll = false;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}

.tocify-subheader {
  display: inline;
}
.tocify-subheader .tocify-item {
  font-size: 0.95em;
}

</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">EEB313H1</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fa fa-map-o"></span>
     
    Syllabus
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-book"></span>
     
    Lectures
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="lec01-introduction.html">Sept. 6: Intro to course, programming, RStudio, and R Markdown</a>
    </li>
    <li>
      <a href="lec02-basic-r.html">Sept. 11: Assignment, vectors, functions</a>
    </li>
    <li>
      <a href="lec03-basic-r.html">Sept. 13: Data frames, intro to dplyr</a>
    </li>
    <li>
      <a href="lec04-dplyr.html">Sept. 18: Data wrangling in dplyr, ggplot, tidy data</a>
    </li>
    <li>
      <a href="lec05-dplyr.html">Sept. 20: More dplyr and ggplot</a>
    </li>
    <li>
      <a href="lec06-exploratory-data-analysis.html">Sept. 25: Exploratory data analysis</a>
    </li>
    <li>
      <a href="lec07-linear-modelling.html">Sept. 27: Linear models and statistical modelling</a>
    </li>
    <li>
      <a href="lec08-linear-mixed-effects-models.html">Oct. 02: Mixed effects models</a>
    </li>
    <li>
      <a href="lec09-Randomization-tests.html">Oct. 04: Simulating data: Randomization tests</a>
    </li>
    <li>
      <a href="lec10-multivariate-stats.html">Oct. 09: Multivariate stats</a>
    </li>
    <li>
      <a href="lec11-model-selection.html">Oct. 11: Model selection</a>
    </li>
    <li>
      <a href="lec12-numerical-models.html">Oct. 16: Numerically solving population models</a>
    </li>
    <li>
      <a href="lec13-time-series.html">Oct. 18: Time series analysis</a>
    </li>
    <li>
      <a href="lec14-datasets.html">Oct. 23: Datasets, hypothesis, begin projects</a>
    </li>
    <li>
      <a href="lec15-git-projects.html">Oct. 25: Reproducible science</a>
    </li>
    <li>
      <a href="lec16-rmarkdown.html">Oct. 30: Reproducible science</a>
    </li>
    <li class="dropdown-header">Nov. 01: Project work (no lesson)</li>
    <li class="dropdown-header">Nov. 13: Project work (no lesson)</li>
    <li class="dropdown-header">Nov. 15: Project work (no lesson)</li>
    <li class="dropdown-header">Nov. 20: Project work (no lesson)</li>
    <li class="dropdown-header">Nov. 22: Project work (no lesson)</li>
    <li class="dropdown-header">Nov. 27: Project work (no lesson)</li>
    <li class="dropdown-header">Nov. 29: Project work (no lesson)</li>
    <li class="dropdown-header">Dec. 04: Project work (no lesson)</li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-book"></span>
     
    Assignments
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="assignment-01.html">Assignment 1</a>
    </li>
    <li>
      <a href="assignment-02.html">Assignment 2</a>
    </li>
    <li>
      <a href="assignment-03.html">Assignment 3</a>
    </li>
    <li>
      <a href="assignment-04.html">Assignment 4</a>
    </li>
    <li>
      <a href="assignment-05.html">Assignment 5</a>
    </li>
    <li>
      <a href="assignment-06.html">Assignment 6</a>
    </li>
    <li>
      <a href="assignment-07.html">Assignment 7</a>
    </li>
    <li>
      <a href="assignment-08.html">Assignment 8</a>
    </li>
    <li>
      <a href="assignment-final.html">Final project</a>
    </li>
  </ul>
</li>
<li>
  <a href="resources.html">
    <span class="fa fa-question"></span>
     
    Resources and FAQ
  </a>
</li>
<li>
  <a href="about.html">
    <span class="fa fa-info"></span>
     
    About
  </a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-bars"></span>
     
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="mailto:ahmed.hasan@mail.utoronto.ca">
        <span class="fa fa-envelope"></span>
         
        Contact
      </a>
    </li>
    <li>
      <a href="https://github.com/uoftcoders/rcourse">
        <span class="fa fa-github"></span>
         
        GitHub
      </a>
    </li>
  </ul>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Introduction to R: Vectors, functions, data frames</h1>
<h4 class="author">Joel Östblom &amp; Ahmed Hasan</h4>

</div>


<p><strong>Copyright (c) Data Carpentry</strong></p>
<p><em>Note: This lecture content was originally created by voluntary contributions to <a href="https://datacarpentry.org">Data Carpentry</a> and has been modified to align with the aims of EEB313. Data Carpentry is an organization focused on data literacy, with the objective of teaching skills to researchers to enable them to retrieve, view, manipulate, analyze, and store their and other’s data in an open and reproducible way in order to extract knowledge from data. For EEB313, we are making all our content available under the same license, <a href="https://creativecommons.org/">The Creative Commons</a>, so that anyone in the future can re-use or modify our course content, without infringing on copyright licensing issues.</em></p>
<p>The above paragraph is made explicit since it is one of the core features of working with an open language like R. Many smart people willingly and actively share their material publicly, so that others can modify and build off of the material themselves.</p>
<p>By being open, we can “stand on the shoulders of giants” and continue to contribute for others to then stand on our shoulders. Not only does this help get work done, but it also adds to a feeling of community. In fact, there is a common saying in the open source world:</p>
<blockquote>
<p>I came for the language and stayed for the community.</p>
</blockquote>
<p>This saying captures the spirit, generosity, and fun involved in being a part of these open source projects.</p>
<hr />
<div id="lesson-preamble" class="section level2">
<h2>Lesson Preamble</h2>
<blockquote>
<h3 id="learning-objectives">Learning Objectives</h3>
<ul>
<li>Define the following terms as they relate to R: call, function, arguments, options.</li>
<li>Use comments within code blocks.</li>
<li>Do simple arithmetic operations in R using values and objects.</li>
<li>Call functions and use arguments to change their default options.</li>
<li>Define our own functions</li>
<li>Inspect the content of vectors and manipulate their content.</li>
<li>Create for-loops</li>
<li>Describe what a data frame is.</li>
<li>Load external data from a .csv file into a data frame in R.</li>
<li>Summarize the contents of a data frame in R.</li>
</ul>
<h3 id="lecture-outline">Lecture outline</h3>
<ul>
<li>Setting up the R Notebook (5 min)</li>
<li>Creating objects/variables in R (10 min)</li>
<li>Using and writing functions (20 min)</li>
<li>Vectors and data types (15 min)</li>
<li>Loops and vectorization (10 min)</li>
<li>Dataset background (10 min)</li>
<li>What are data frames (15 min)</li>
</ul>
</blockquote>
<hr />
</div>
<div id="setting-up-the-r-notebook" class="section level2">
<h2>Setting up the R Notebook</h2>
<p>Let’s remove the template RStudio gives us, and add a title of our own.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode yaml"><code class="sourceCode yaml"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="ot">---</span></a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="fu">title:</span><span class="at"> Introduction to R</span></a>
<a class="sourceLine" id="cb1-3" data-line-number="3"><span class="ot">---</span></a></code></pre></div>
<p>This header block is called the YAML header. This is where we specify whether we want to convert this file to a HTML or PDF file. This will be discussed in more detail in another class. For now, we just care about including the lecture title here. For now, let’s type out a note:</p>
<blockquote>
<p>This lecture covers fundamental R usage, such as assigning values to a variable, using functions, and commenting code, as well as some data analysis.</p>
</blockquote>
<p>Under this sentence, we will insert our first code chunk. Remember that you insert a code chunk by either clicking the “Insert” button or pressing <kbd>Ctrl</kbd> + <kbd>Alt</kbd> + <kbd>i</kbd> simultaneously. To run a code chunk, you press the green arrow, or <kbd>Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>Enter</kbd>.</p>
</div>
<div id="creating-objects-in-r" class="section level2">
<h2>Creating objects in R</h2>
<p>As we saw in our first class, you can get output from R simply by typing math in the console:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="dv">3</span> <span class="op">+</span><span class="st"> </span><span class="dv">5</span></a></code></pre></div>
<pre><code>## [1] 8</code></pre>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="dv">12</span> <span class="op">/</span><span class="st"> </span><span class="dv">7</span></a></code></pre></div>
<pre><code>## [1] 1.714286</code></pre>
<p>However, to do useful and interesting things, we need to assign <em>values</em> to <em>objects</em>.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="dv">3</span></a>
<a class="sourceLine" id="cb6-2" data-line-number="2">x <span class="op">+</span><span class="st"> </span><span class="dv">5</span></a></code></pre></div>
<pre><code>## [1] 8</code></pre>
<p>You can name an object in R almost anything you want:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1">joel &lt;-<span class="st"> </span><span class="dv">3</span></a>
<a class="sourceLine" id="cb8-2" data-line-number="2">joel <span class="op">+</span><span class="st"> </span><span class="dv">5</span></a></code></pre></div>
<pre><code>## [1] 8</code></pre>
<div id="challenge" class="section level4">
<h4>Challenge</h4>
<p>So far, we have created two variables, <code>joel</code> and <code>x</code>. What is the sum of these variables?</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1">joel <span class="op">+</span><span class="st"> </span>x</a></code></pre></div>
<pre><code>## [1] 6</code></pre>
<p>Objects can be given any name such as <code>x</code>, <code>current_temperature</code>, or <code>subject_id</code>. You want your object names to be explicit and not too long. They cannot start with a number (<code>2x</code> is not valid, but <code>x2</code> is). R is case sensitive (e.g., <code>joel</code> is different from <code>Joel</code>). There are some names that cannot be used because they are they are reserved for fundamental functions in R (<code>?Reserved</code> lists these words). In general, even if it’s allowed, it’s best to not use other function names (e.g., <code>c</code>, <code>T</code>, <code>mean</code>, <code>data</code>, <code>df</code>, <code>weights</code>). If in doubt, check the help or use tab completion to see if the name is already in use.</p>
<p>It’s also best to avoid dots (<code>.</code>) within a variable name as in <code>my.dataset</code>. Historically, there are many functions in R with dots in their name, but since dots have a <a href="http://adv-r.had.co.nz/S3.html">special meaning</a> in R, it’s better to not use them and instead use underscores (<code>_</code>).</p>
<p>It is also recommended to use nouns for variable names, and verbs for function names. It’s important to be consistent in the styling of your code (where you put spaces, how you name variables, etc.). Using a consistent coding style<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a> makes your code clearer to read for your future self and your collaborators. RStudio will format code for you if you highlight a section of code and press <kbd>Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>a</kbd>.</p>
<p>When assigning a value to an object, R does not print anything. You can force R to print the value by using parentheses or by typing the object name:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1">weight_kg &lt;-<span class="st"> </span><span class="dv">55</span>    <span class="co"># doesn&#39;t print anything</span></a>
<a class="sourceLine" id="cb12-2" data-line-number="2">(weight_kg &lt;-<span class="st"> </span><span class="dv">55</span>)  <span class="co"># but putting parentheses around the call prints the value of `weight_kg`</span></a></code></pre></div>
<pre><code>## [1] 55</code></pre>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1">weight_kg          <span class="co"># and so does typing the name of the object</span></a></code></pre></div>
<pre><code>## [1] 55</code></pre>
<p>The variable <code>weight_kg</code> is stored in the computer’s memory where R can access it, and we can start doing arithmetic with it efficiently. For instance, we may want to convert this weight into pounds (weight in pounds is 2.2 times the weight in kg):</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" data-line-number="1"><span class="fl">2.2</span> <span class="op">*</span><span class="st"> </span>weight_kg</a></code></pre></div>
<pre><code>## [1] 121</code></pre>
<p>We can also change a variable’s value by assigning it a new one:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" data-line-number="1">weight_kg &lt;-<span class="st"> </span><span class="fl">57.5</span></a>
<a class="sourceLine" id="cb18-2" data-line-number="2"><span class="fl">2.2</span> <span class="op">*</span><span class="st"> </span>weight_kg</a></code></pre></div>
<pre><code>## [1] 126.5</code></pre>
<p>This means that assigning a value to one variable does not change the values of other variables. For example, let’s store the animal’s weight in pounds in a new variable, <code>weight_lb</code>:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb20-1" data-line-number="1">weight_lb &lt;-<span class="st"> </span><span class="fl">2.2</span> <span class="op">*</span><span class="st"> </span>weight_kg</a></code></pre></div>
<p>and then change <code>weight_kg</code> to 100.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" data-line-number="1">weight_kg &lt;-<span class="st"> </span><span class="dv">100</span></a></code></pre></div>
</div>
<div id="challenge-1" class="section level4">
<h4>Challenge</h4>
<p>What do you think is the current content of the object <code>weight_lb</code>? 126.5 or 220?</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb22-1" data-line-number="1">weight_lb</a></code></pre></div>
<pre><code>## [1] 126.5</code></pre>
</div>
<div id="comments" class="section level3">
<h3>Comments</h3>
<p>A comment is piece of text in your code that will not be executed with the rest of the code, but its purpose is to be a note to the person reading the code. Traditionally, comments have been the only way to make notes alongside your code, but since we are using the R Notebook format, we can also write notes in Markdown. Therefore, comments are not as important for us, but they are still the best method of leaving short notes and explanations for specific lines of code. The comment character in R is <code>#</code>, anything to the right of a <code>#</code> in a script will be ignored by R.</p>
<p>RStudio makes it easy to comment or uncomment a paragraph: after selecting the lines you want to comment, press at the same time on your keyboard <kbd>Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>C</kbd>. If you only want to comment out one line, you can put the cursor at any location of that line (i.e. no need to select the whole line), then press <kbd>Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>C</kbd>.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb24-1" data-line-number="1">weight_lb &lt;-<span class="st"> </span><span class="fl">2.2</span> <span class="op">*</span><span class="st"> </span>weight_kg <span class="co"># Actually, 1 kg = 2.204623 lbs</span></a></code></pre></div>
<div id="challenge-2" class="section level4">
<h4>Challenge</h4>
<p>What are the values after each statement in the following?</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb25-1" data-line-number="1">mass &lt;-<span class="st"> </span><span class="fl">47.5</span></a>
<a class="sourceLine" id="cb25-2" data-line-number="2">age  &lt;-<span class="st"> </span><span class="dv">122</span></a>
<a class="sourceLine" id="cb25-3" data-line-number="3">mass &lt;-<span class="st"> </span>mass <span class="op">*</span><span class="st"> </span><span class="fl">2.0</span>      <span class="co"># mass?</span></a>
<a class="sourceLine" id="cb25-4" data-line-number="4">age  &lt;-<span class="st"> </span>age <span class="op">-</span><span class="st"> </span><span class="dv">20</span>        <span class="co"># age?</span></a>
<a class="sourceLine" id="cb25-5" data-line-number="5">mass_index &lt;-<span class="st"> </span>mass<span class="op">/</span>age  <span class="co"># mass_index?</span></a></code></pre></div>
</div>
</div>
</div>
<div id="functions-and-their-arguments" class="section level2">
<h2>Functions and their arguments</h2>
<p>Functions can be thought of as recipes. You give a few ingredients as input to a function, and it will generate an output based on these ingredients. Just as when baking, both the ingredients and the actual recipe will influence what comes out of the recipe in the end, will it be a cake or a loaf of bread? In R, the inputs to a function are not called ingredients, but rather <em>arguments</em>, and the output is called the <em>return value</em> of the function. A function does not technically have to return a value, but often does so. Functions are used to automate more complicated sets of commands and many of them are already predefined in R. A typical example would be the function <code>sqrt()</code>. The input (the argument) must be a number, and the return value (in fact, the output) is the square root of that number. Executing a function (‘running it’) is called <em>calling</em> the function. An example of a function call is:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb26-1" data-line-number="1"><span class="kw">sqrt</span>(<span class="dv">9</span>)</a></code></pre></div>
<pre><code>## [1] 3</code></pre>
<p>Which is the same as assigning the value to a variable and then passing that variable to the function:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb28-1" data-line-number="1">a &lt;-<span class="st"> </span><span class="dv">9</span></a>
<a class="sourceLine" id="cb28-2" data-line-number="2">b &lt;-<span class="st"> </span><span class="kw">sqrt</span>(a)</a>
<a class="sourceLine" id="cb28-3" data-line-number="3">b</a></code></pre></div>
<pre><code>## [1] 3</code></pre>
<p>Here, the value of <code>a</code> is given to the <code>sqrt()</code> function, the <code>sqrt()</code> function calculates the square root, and returns the value which is then assigned to variable <code>b</code>. This function is very simple, because it takes just one argument.</p>
<p>The return ‘value’ of a function need not be numerical (like that of <code>sqrt()</code>), and it also does not need to be a single item: it can be a set of things, or even a dataset, as we will see later on.</p>
<p>Arguments can be anything, not only numbers or filenames, but also other objects. Exactly what each argument means differs per function, and must be looked up in the documentation (see below). Some functions take arguments which may either be specified by the user, or, if left out, take on a <em>default</em> value: these are called <em>options</em>. Options are typically used to alter the way the function operates, such as whether it ignores ‘bad values’, or what symbol to use in a plot. However, if you want something specific, you can specify a value of your choice which will be used instead of the default.</p>
<p>To access help about <code>sqrt</code>, we are first going to learn about tab-completion. Type <code>s</code> and press <kbd>Tab</kbd>.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb30-1" data-line-number="1">s<span class="op">&lt;</span>tab<span class="op">&gt;</span>q</a></code></pre></div>
<p>You can see that R gives you suggestions of what functions and variables are available that start with the letter <code>s</code>, and thanks to RStudio they are formatted in this nice list. There are <em>many</em> suggestions here, so let’s be a bit more specific and append a <code>q</code>, to find what we want. If we press enter or tab again, R will insert the selected option.</p>
<p>You can see that R inserts a pair of parenthesis together with the name of the functions. This is how the function syntax looks for R and many other programming languages, and it means that within these parentheses, we will specify all the arguments (the ingredients) that we want to pass to this function.</p>
<p>If we press tab again, R will helpfully display all the available parameters for this function that we can pass an argument to. The word <em>parameter</em> is used to describe the name that the argument can be passed to. More on that later.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb31-1" data-line-number="1"><span class="kw">sqrt</span>(<span class="op">&lt;</span>tab<span class="op">&gt;</span></a></code></pre></div>
<p>There are many things in this list, but only one of them is marked in purple. Purple here means that it is parameter we can use for the function and yellow means that it is a variable that we defined earlier.<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a></p>
<p>To read the full help about <code>sqrt</code>, we can use the question mark, or type it directly into the help document browser.</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb32-1" data-line-number="1">?sqrt</a></code></pre></div>
<p>As you can see, <code>sqrt()</code> takes only one argument, <code>x</code>, which needs to be a <em>numerical vector</em>. Don’t worry too much about that is says <em>vector</em> here, I will talk more about that later. Briefly, a numerical vector is one or more numbers. Every number is a vector, so you don’t have to do anything special to create a vector. More on vectors later.</p>
<p>Let’s try a function that can take multiple arguments: <code>round()</code>.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb33-1" data-line-number="1"><span class="kw">round</span>(<span class="op">&lt;</span>tab<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb33-2" data-line-number="2">?round</a></code></pre></div>
<p>If we try round with a value:</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb34-1" data-line-number="1"><span class="kw">round</span>(<span class="fl">3.14159</span>)</a></code></pre></div>
<pre><code>## [1] 3</code></pre>
<p>Here, we’ve called <code>round()</code> with just one argument, <code>3.14159</code>, and it has returned the value <code>3</code>. That’s because the default is to round to the nearest whole number, or integer. If we want more digits we can pass an argument to the <code>digits</code> parameter, to specify how many decimals we want to round to.</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb36-1" data-line-number="1"><span class="kw">round</span>(<span class="fl">3.14159</span>, <span class="dt">digits =</span> <span class="dv">2</span>)</a></code></pre></div>
<pre><code>## [1] 3.14</code></pre>
<p>So, above we pass the <em>argument</em> <code>2</code>, to the <em>parameter</em> <code>digits</code>. Knowing this nomenclature is not essential for doing your own data analysis, but it will be very helpful when you are reading through help documents online and in RStudio.</p>
<p>We can leave out the word <code>digits</code> since we know it comes as the second parameter, after <code>x</code>.</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb38-1" data-line-number="1"><span class="kw">round</span>(<span class="fl">3.14159</span>, <span class="dv">2</span>)</a></code></pre></div>
<pre><code>## [1] 3.14</code></pre>
<p>As you notice, we have been leaving out <code>x</code> from the beginning. If you provide the names for both the arguments, we can switch their order:</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb40-1" data-line-number="1"><span class="kw">round</span>(<span class="dt">digits =</span> <span class="dv">2</span>, <span class="dt">x =</span> <span class="fl">3.14159</span>)</a></code></pre></div>
<pre><code>## [1] 3.14</code></pre>
<p>It’s good practice to put the non-optional arguments (like the number you’re rounding) first in your function call, and to specify the names of all optional arguments. If you don’t, someone reading your code might have to look up the definition of a function with unfamiliar arguments to understand what you’re doing.</p>
</div>
<div id="writing-functions" class="section level2">
<h2>Writing functions</h2>
<p>In this class, you will be working a lot with functions, especially those that someone else has already written. When you type <code>sum</code>, <code>c()</code>, or <code>mean()</code>, you are using a function that has been made previously and built into R. To remove some of the magic around these functions, we will go through how to make a basic function of our own. Let’s start with a simple example where we add two numbers together:</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb42-1" data-line-number="1">add_two_numbers &lt;-<span class="st"> </span><span class="cf">function</span>(num1, num2) {</a>
<a class="sourceLine" id="cb42-2" data-line-number="2">    <span class="kw">return</span>(num1 <span class="op">+</span><span class="st"> </span>num2)</a>
<a class="sourceLine" id="cb42-3" data-line-number="3">}</a>
<a class="sourceLine" id="cb42-4" data-line-number="4"><span class="kw">add_two_numbers</span>(<span class="dv">4</span>, <span class="dv">5</span>)</a></code></pre></div>
<pre><code>## [1] 9</code></pre>
<p>As you can see, running this function on two numbers returns their sum. We could also assign to a variable in the function and return the function.</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb44-1" data-line-number="1">add_two_numbers &lt;-<span class="st"> </span><span class="cf">function</span>(num1, num2) {</a>
<a class="sourceLine" id="cb44-2" data-line-number="2">    my_sum &lt;-<span class="st"> </span>num1 <span class="op">+</span><span class="st"> </span>num2</a>
<a class="sourceLine" id="cb44-3" data-line-number="3">    <span class="kw">return</span>(my_sum)</a>
<a class="sourceLine" id="cb44-4" data-line-number="4">}</a>
<a class="sourceLine" id="cb44-5" data-line-number="5"><span class="kw">add_two_numbers</span>(<span class="dv">4</span>, <span class="dv">5</span>)</a></code></pre></div>
<pre><code>## [1] 9</code></pre>
<div id="challenge-3" class="section level4">
<h4>Challenge</h4>
<p>Can you write a function that calculates the mean of 3 numbers?</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb46-1" data-line-number="1">mean_of_three_numbers &lt;-<span class="st"> </span><span class="cf">function</span>(num1, num2, num3) {</a>
<a class="sourceLine" id="cb46-2" data-line-number="2">   my_sum &lt;-<span class="st"> </span>num1 <span class="op">+</span><span class="st"> </span>num2 <span class="op">+</span><span class="st"> </span>num3</a>
<a class="sourceLine" id="cb46-3" data-line-number="3">   my_mean &lt;-<span class="st"> </span>my_sum <span class="op">/</span><span class="st"> </span><span class="dv">3</span></a>
<a class="sourceLine" id="cb46-4" data-line-number="4">   <span class="kw">return</span>(my_mean)</a>
<a class="sourceLine" id="cb46-5" data-line-number="5">}</a>
<a class="sourceLine" id="cb46-6" data-line-number="6"><span class="kw">mean_of_three_numbers</span>(<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">6</span>)</a></code></pre></div>
<pre><code>## [1] 4</code></pre>
</div>
</div>
<div id="vectors-and-data-types" class="section level2">
<h2>Vectors and data types</h2>
<p>A vector is the most common and basic data type in R, and is pretty much the workhorse of R. A vector is composed by a series of values, which can be either numbers or characters. We can assign a series of values to a vector using the <code>c()</code> function, which stands for “concatenate (combine/connect one after another) values into a vector” For example we can create a vector of animal weights and assign it to a new object <code>weight_g</code>:</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb48-1" data-line-number="1">weight_g &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">50</span>, <span class="dv">60</span>, <span class="dv">65</span>, <span class="dv">82</span>) <span class="co"># Concatenate/Combine values into a vector</span></a>
<a class="sourceLine" id="cb48-2" data-line-number="2">weight_g</a></code></pre></div>
<pre><code>## [1] 50 60 65 82</code></pre>
<p>You can also use the built-in command <code>seq</code>, to create a sequence of numbers without typing all of them in manually.</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb50-1" data-line-number="1"><span class="kw">seq</span>(<span class="dv">0</span>, <span class="dv">30</span>) <span class="co"># This is the same as just `0:30`</span></a></code></pre></div>
<pre><code>##  [1]  0  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22
## [24] 23 24 25 26 27 28 29 30</code></pre>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb52-1" data-line-number="1"><span class="kw">seq</span>(<span class="dv">0</span>, <span class="dv">30</span>, <span class="dv">3</span>) <span class="co"># Every third number</span></a></code></pre></div>
<pre><code>##  [1]  0  3  6  9 12 15 18 21 24 27 30</code></pre>
<p>A vector can also contain characters:</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb54-1" data-line-number="1">animals &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;mouse&#39;</span>, <span class="st">&#39;rat&#39;</span>, <span class="st">&#39;dog&#39;</span>)</a>
<a class="sourceLine" id="cb54-2" data-line-number="2">animals</a></code></pre></div>
<pre><code>## [1] &quot;mouse&quot; &quot;rat&quot;   &quot;dog&quot;</code></pre>
<p>The quotes around “mouse”, “rat”, etc. are essential here and can be either single or double quotes. Without the quotes R will assume there are objects called <code>mouse</code>, <code>rat</code> and <code>dog</code>. As these objects don’t exist in R’s memory, there will be an error message.</p>
<p>There are many functions that allow you to inspect the content of a vector. <code>length()</code> tells you how many elements are in a particular vector:</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb56-1" data-line-number="1"><span class="kw">length</span>(weight_g)</a></code></pre></div>
<pre><code>## [1] 4</code></pre>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb58-1" data-line-number="1"><span class="kw">length</span>(animals)</a></code></pre></div>
<pre><code>## [1] 3</code></pre>
<p>An important feature of a vector is that all of the elements are the same type of data. The function <code>class()</code> indicates the class (the type of element) of an object:</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb60-1" data-line-number="1"><span class="kw">class</span>(weight_g)</a></code></pre></div>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb62-1" data-line-number="1"><span class="kw">class</span>(animals)</a></code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<p>The function <code>str()</code> provides an overview of the structure of an object and its elements. It is a useful function when working with large and complex objects:</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb64-1" data-line-number="1"><span class="kw">str</span>(weight_g)</a></code></pre></div>
<pre><code>##  num [1:4] 50 60 65 82</code></pre>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb66-1" data-line-number="1"><span class="kw">str</span>(animals)</a></code></pre></div>
<pre><code>##  chr [1:3] &quot;mouse&quot; &quot;rat&quot; &quot;dog&quot;</code></pre>
<p>You can use the <code>c()</code> function to add other elements to your vector:</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb68-1" data-line-number="1">weight_g &lt;-<span class="st"> </span><span class="kw">c</span>(weight_g, <span class="dv">90</span>) <span class="co"># add to the end of the vector</span></a>
<a class="sourceLine" id="cb68-2" data-line-number="2">weight_g &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">30</span>, weight_g) <span class="co"># add to the beginning of the vector</span></a>
<a class="sourceLine" id="cb68-3" data-line-number="3">weight_g</a></code></pre></div>
<pre><code>## [1] 30 50 60 65 82 90</code></pre>
<p>In the first line, we take the original vector <code>weight_g</code>, add the value <code>90</code> to the end of it, and save the result back into <code>weight_g</code>. Then we add the value <code>30</code> to the beginning, again saving the result back into <code>weight_g</code>.</p>
<p>We can do this over and over again to grow a vector, or assemble a dataset. As we program, this may be useful to add results that we are collecting or calculating.</p>
<p>An <strong>atomic vector</strong> is the simplest R <strong>data type</strong> and it is a linear vector of a single type, e.g. all numbers. Above, we saw 2 of the 6 main <strong>atomic vector</strong> types that R uses: <code>&quot;character&quot;</code> and <code>&quot;numeric&quot;</code> (or <code>&quot;double&quot;</code>). These are the basic building blocks that all R objects are built from. The other 4 <strong>atomic vector</strong> types are:</p>
<ul>
<li><code>&quot;logical&quot;</code> for <code>TRUE</code> and <code>FALSE</code> (the boolean data type)</li>
<li><code>&quot;integer&quot;</code> for integer numbers (e.g., <code>2L</code>, the <code>L</code> indicates to R that it’s an integer)</li>
<li><code>&quot;complex&quot;</code> to represent complex numbers with real and imaginary parts (e.g., <code>1 + 4i</code>) and that’s all we’re going to say about them</li>
<li><code>&quot;raw&quot;</code> for bitstreams that we won’t discuss further</li>
</ul>
<p>Vectors are one of the many <strong>data structures</strong> that R uses. Other important ones are lists (<code>list</code>), matrices (<code>matrix</code>), data frames (<code>data.frame</code>), factors (<code>factor</code>) and arrays (<code>array</code>). In this class, we will focus on data frames, which is most commonly used one for data analyses.</p>
<div id="challenge-4" class="section level4">
<h4>Challenge</h4>
<ul>
<li>We’ve seen that atomic vectors can be of type character, numeric (or double), integer, and logical. But what happens if we try to mix these types in a single vector? Find out by using <code>class</code> to test these examples.</li>
</ul>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb70-1" data-line-number="1">num_char &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="st">&#39;a&#39;</span>)</a>
<a class="sourceLine" id="cb70-2" data-line-number="2">num_logical &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb70-3" data-line-number="3">char_logical &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;a&#39;</span>, <span class="st">&#39;b&#39;</span>, <span class="st">&#39;c&#39;</span>, <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb70-4" data-line-number="4">tricky &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="st">&#39;4&#39;</span>)</a></code></pre></div>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb71-1" data-line-number="1"><span class="co"># Answer</span></a>
<a class="sourceLine" id="cb71-2" data-line-number="2"><span class="kw">class</span>(num_char)</a></code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb73-1" data-line-number="1"><span class="kw">class</span>(num_logical)</a></code></pre></div>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb75-1" data-line-number="1"><span class="kw">class</span>(char_logical)</a></code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb77-1" data-line-number="1"><span class="kw">class</span>(tricky)</a></code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<ul>
<li><p>This happens because vectors can be of only one data type. Instead of throwing an error and saying that you are trying to mix different types in the same vector, R tries to convert (coerce) the content of this vector to find a “common denominator”. A logical can be turn into 1 or 0, and a number can be turned into a string/character representation. It would be difficult to do it the other way around: would 5 be TRUE or FALSE? What number would ‘t’ be?</p></li>
<li><p>In R, we call converting objects from one class into another class <em>coercion</em>. These conversions happen according to a hierarchy, whereby some types get preferentially coerced into other types. Can you draw a diagram that represents the hierarchy of how these data types are coerced?</p></li>
</ul>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb79-1" data-line-number="1"><span class="co"># Answer:</span></a>
<a class="sourceLine" id="cb79-2" data-line-number="2"><span class="co"># logical -&gt; numeric -&gt; character &lt;- logical</span></a></code></pre></div>
</div>
</div>
<div id="loops-and-vectorization" class="section level2">
<h2>Loops and vectorization</h2>
<p>Loop, or for-loops, are essential to programming in general. However, in R, you should avoid them as often as possible because there are more efficient ways of doing things that you should use instead. It is still important that you understand the concept of loops and you might also use them in some of your own functions if there is no vectorized way of going about what you want to do.</p>
<p>You can think of a for-loop as: “for each number contained in a list/vector, perform this operation” and the syntax basically says the same thing:</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb80-1" data-line-number="1">v &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">6</span>)</a>
<a class="sourceLine" id="cb80-2" data-line-number="2"><span class="cf">for</span> (num <span class="cf">in</span> v) {</a>
<a class="sourceLine" id="cb80-3" data-line-number="3">    <span class="kw">print</span>(num)</a>
<a class="sourceLine" id="cb80-4" data-line-number="4">}</a></code></pre></div>
<pre><code>## [1] 2
## [1] 4
## [1] 6</code></pre>
<p>Instead of printing out every number to the console, we could also add numbers cumulatively, to calculate the sum of all the numbers in the vector:</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb82-1" data-line-number="1"><span class="co"># To increment `w` each time, we must first create the variable,</span></a>
<a class="sourceLine" id="cb82-2" data-line-number="2"><span class="co"># which we do by setting `w &lt;- 0`, referred to as initializing.</span></a>
<a class="sourceLine" id="cb82-3" data-line-number="3"><span class="co"># This also ensures that `w` is zero at the start of the loop and</span></a>
<a class="sourceLine" id="cb82-4" data-line-number="4"><span class="co"># doesn&#39;t retain the value from last time we ran this code.</span></a>
<a class="sourceLine" id="cb82-5" data-line-number="5">w &lt;-<span class="st"> </span><span class="dv">0</span></a>
<a class="sourceLine" id="cb82-6" data-line-number="6"><span class="cf">for</span> (num <span class="cf">in</span> v) {</a>
<a class="sourceLine" id="cb82-7" data-line-number="7">    w &lt;-<span class="st"> </span>w <span class="op">+</span><span class="st"> </span>num</a>
<a class="sourceLine" id="cb82-8" data-line-number="8">}</a>
<a class="sourceLine" id="cb82-9" data-line-number="9">w</a></code></pre></div>
<pre><code>## [1] 12</code></pre>
<p>If we put what we just did inside a function, we have essentially recreated the <code>sum</code> function in R.</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb84-1" data-line-number="1">my_sum &lt;-<span class="st"> </span><span class="cf">function</span>(input_vector) {</a>
<a class="sourceLine" id="cb84-2" data-line-number="2">    vector_sum &lt;-<span class="st"> </span><span class="dv">0</span></a>
<a class="sourceLine" id="cb84-3" data-line-number="3">    <span class="cf">for</span> (num <span class="cf">in</span> input_vector){</a>
<a class="sourceLine" id="cb84-4" data-line-number="4">        vector_sum &lt;-<span class="st"> </span>vector_sum <span class="op">+</span><span class="st"> </span>num</a>
<a class="sourceLine" id="cb84-5" data-line-number="5">    }</a>
<a class="sourceLine" id="cb84-6" data-line-number="6">    <span class="kw">return</span>(vector_sum)</a>
<a class="sourceLine" id="cb84-7" data-line-number="7">}</a>
<a class="sourceLine" id="cb84-8" data-line-number="8"></a>
<a class="sourceLine" id="cb84-9" data-line-number="9"><span class="kw">my_sum</span>(v)</a></code></pre></div>
<pre><code>## [1] 12</code></pre>
<p>Although this gives us the same output as the built-in function <code>sum</code>, the built-in function has many more optimizations so it is much faster than our function. In R, it is always faster to try to find a way of doing things without writing a loop yourself. When you are reading about R, you might see suggestions that you should try to <em>vectorize</em> your code to make it faster. What people are referring to, is that you should not write for loops in R and instead use the ready-made functions that are much more efficient in working with vectors and essentially performs operations on entire vector at once instead of one number at a time. If anyone is interested in more details about how this works, please ask me after class, but conceptually loops operate on one element at a time while vectorized code operates on all elements of a vector at once.</p>
<!-- break -->
</div>
<div id="working-with-real-data---dataset-background" class="section level2">
<h2>Working with real data - dataset background</h2>
<p>Today, we will begin examining real data from a longitudinal study of the species abundance in the Chihuahuan desert ecosystem near Portal, Arizona, USA. This study includes observations of plants, ants, and rodents from 1977 - 2002, and has been used in over 100 publications. More information is available in <a href="https://onlinelibrary.wiley.com/doi/10.1890/08-1222.1/full">the abstract of this paper from 2009</a>.</p>
<p>We will be working with this dataset over the next few lectures. There are several datasets available related to this study, and we will be working with datasets that have been preprocessed by the <a href="https://www.datacarpentry.org">Data Carpentry</a> to facilitate teaching. These are made available online as <em>The Portal Project Teaching Database</em>, both at the <a href="https://datacarpentry.org/ecology-workshop/data/">Data Carpentry website</a>, and on <a href="https://figshare.com/articles/Portal_Project_Teaching_Database/1314459/6">Figshare</a>. Figshare is a great place to publish data, code, figures, and more openly to make them available for other researchers and to communicate findings that are not part of a longer paper.</p>
<div id="presentation-of-the-survey-data" class="section level3">
<h3>Presentation of the survey data</h3>
<p>We are studying the species and weight of animals caught in plots in our study area. The dataset is stored as a comma separated value (CSV) file. Each row holds information for a single animal, and the columns represent:</p>
<table>
<thead>
<tr class="header">
<th>Column</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>record_id</td>
<td>unique id for the observation</td>
</tr>
<tr class="even">
<td>month</td>
<td>month of observation</td>
</tr>
<tr class="odd">
<td>day</td>
<td>day of observation</td>
</tr>
<tr class="even">
<td>year</td>
<td>year of observation</td>
</tr>
<tr class="odd">
<td>plot_id</td>
<td>ID of a particular plot</td>
</tr>
<tr class="even">
<td>species_id</td>
<td>2-letter code</td>
</tr>
<tr class="odd">
<td>sex</td>
<td>sex of animal (“M”, “F”)</td>
</tr>
<tr class="even">
<td>hindfoot_length</td>
<td>length of the hindfoot in mm</td>
</tr>
<tr class="odd">
<td>weight</td>
<td>weight of the animal in grams</td>
</tr>
<tr class="even">
<td>genus</td>
<td>genus of animal</td>
</tr>
<tr class="odd">
<td>species</td>
<td>species of animal</td>
</tr>
<tr class="even">
<td>taxa</td>
<td>e.g. rodent, reptile, bird, rabbit</td>
</tr>
<tr class="odd">
<td>plot_type</td>
<td>type of plot</td>
</tr>
</tbody>
</table>
<p>To read the data into R, we are going to use a function called <code>read_csv</code>. This function is contained in an R-package called <a href="https://readr.tidyverse.org/"><code>readr</code></a>. R-packages are a bit like browser extensions; they are not essential, but can provide nifty functionality. We will go through R-packages in general and which ones are good for data analyses in detail later in this lecture. Now, let’s install <code>readr</code>:</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb86-1" data-line-number="1"><span class="kw">install.packages</span>(<span class="st">&#39;readr&#39;</span>) <span class="co"># You only need to install a package once</span></a></code></pre></div>
<p>Now we can use the <code>read_csv</code> function. One useful option that <code>read_csv</code> includes, is the ability to read a CSV file directly from a URL, without downloading it in a separate step:</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb87-1" data-line-number="1">surveys &lt;-<span class="st"> </span>readr<span class="op">::</span><span class="kw">read_csv</span>(<span class="st">&#39;https://ndownloader.figshare.com/files/2292169&#39;</span>)</a></code></pre></div>
<p>However, it is often a good idea to download the data first, so you have a copy stored locally on your computer in case you want to do some offline analyses, or the online version of the file changes or the file is taken down. You can either download the data manually or from within R:</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb88-1" data-line-number="1"><span class="kw">download.file</span>(<span class="st">&quot;https://ndownloader.figshare.com/files/2292169&quot;</span>,</a>
<a class="sourceLine" id="cb88-2" data-line-number="2">              <span class="st">&quot;portal_data.csv&quot;</span>) <span class="co"># Saves this name in the current directory</span></a></code></pre></div>
<p>The data is read in by specifying its local path.</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb89-1" data-line-number="1">surveys &lt;-<span class="st"> </span>readr<span class="op">::</span><span class="kw">read_csv</span>(<span class="st">&#39;portal_data.csv&#39;</span>)</a></code></pre></div>
<pre><code>## Parsed with column specification:
## cols(
##   record_id = col_double(),
##   month = col_double(),
##   day = col_double(),
##   year = col_double(),
##   plot_id = col_double(),
##   species_id = col_character(),
##   sex = col_character(),
##   hindfoot_length = col_double(),
##   weight = col_double(),
##   genus = col_character(),
##   species = col_character(),
##   taxa = col_character(),
##   plot_type = col_character()
## )</code></pre>
<p>This statement produces some output regarding which data type it found in each column. If we want to check this in more detail, we can print the variable’s value: <code>surveys</code>.</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb91-1" data-line-number="1">surveys</a></code></pre></div>
<pre><code>## # A tibble: 34,786 x 13
##    record_id month   day  year plot_id species_id sex   hindfoot_length
##        &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;           &lt;dbl&gt;
##  1         1     7    16  1977       2 NL         M                  32
##  2        72     8    19  1977       2 NL         M                  31
##  3       224     9    13  1977       2 NL         &lt;NA&gt;               NA
##  4       266    10    16  1977       2 NL         &lt;NA&gt;               NA
##  5       349    11    12  1977       2 NL         &lt;NA&gt;               NA
##  6       363    11    12  1977       2 NL         &lt;NA&gt;               NA
##  7       435    12    10  1977       2 NL         &lt;NA&gt;               NA
##  8       506     1     8  1978       2 NL         &lt;NA&gt;               NA
##  9       588     2    18  1978       2 NL         M                  NA
## 10       661     3    11  1978       2 NL         &lt;NA&gt;               NA
## # … with 34,776 more rows, and 5 more variables: weight &lt;dbl&gt;,
## #   genus &lt;chr&gt;, species &lt;chr&gt;, taxa &lt;chr&gt;, plot_type &lt;chr&gt;</code></pre>
<p>In the online html-version of this lecture, you only see the first few rows of the data frame. Running the code chunk above in the R Notebook would display a nice tabular view of the data, which also includes pagination when there are many rows and we can click the green arrow to view all the columns. Technically, this object actually a <code>tibble</code> rather than a data frame, as indicated in the output. The reason for this is that <code>read_csv</code> automatically converts the data into to a <code>tibble</code> when loading it. Since a <code>tibble</code> is just a data frame with some convenient extra functionality, we will use these words interchangeably from now on.</p>
<p>If we just want to glance at how the data frame looks, it is sufficient to display only the top (the first 6 lines) using the function <code>head()</code>:</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb93-1" data-line-number="1"><span class="kw">head</span>(surveys)</a></code></pre></div>
<pre><code>## # A tibble: 6 x 13
##   record_id month   day  year plot_id species_id sex   hindfoot_length
##       &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;           &lt;dbl&gt;
## 1         1     7    16  1977       2 NL         M                  32
## 2        72     8    19  1977       2 NL         M                  31
## 3       224     9    13  1977       2 NL         &lt;NA&gt;               NA
## 4       266    10    16  1977       2 NL         &lt;NA&gt;               NA
## 5       349    11    12  1977       2 NL         &lt;NA&gt;               NA
## 6       363    11    12  1977       2 NL         &lt;NA&gt;               NA
## # … with 5 more variables: weight &lt;dbl&gt;, genus &lt;chr&gt;, species &lt;chr&gt;,
## #   taxa &lt;chr&gt;, plot_type &lt;chr&gt;</code></pre>
</div>
</div>
<div id="what-are-data-frames" class="section level2">
<h2>What are data frames?</h2>
<p>Data frames are the <em>de facto</em> data structure for most tabular data, and what we use for statistics and plotting. A data frame can be created by hand, but most commonly they are generated by the function <code>read_csv()</code>. In other words, when importing spreadsheets from your hard drive (or the web).</p>
<p>A data frame is the representation of data in the format of a table where the columns are vectors that all have the same length. Because the columns are vectors, they all contain the same type of data as we discussed before the break (e.g., characters, integers, factors). We can see this when inspecting the structure of a data frame with the function <code>str()</code>:</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb95-1" data-line-number="1"><span class="kw">str</span>(surveys)</a></code></pre></div>
<pre><code>## Classes &#39;spec_tbl_df&#39;, &#39;tbl_df&#39;, &#39;tbl&#39; and &#39;data.frame&#39;: 34786 obs. of  13 variables:
##  $ record_id      : num  1 72 224 266 349 363 435 506 588 661 ...
##  $ month          : num  7 8 9 10 11 11 12 1 2 3 ...
##  $ day            : num  16 19 13 16 12 12 10 8 18 11 ...
##  $ year           : num  1977 1977 1977 1977 1977 ...
##  $ plot_id        : num  2 2 2 2 2 2 2 2 2 2 ...
##  $ species_id     : chr  &quot;NL&quot; &quot;NL&quot; &quot;NL&quot; &quot;NL&quot; ...
##  $ sex            : chr  &quot;M&quot; &quot;M&quot; NA NA ...
##  $ hindfoot_length: num  32 31 NA NA NA NA NA NA NA NA ...
##  $ weight         : num  NA NA NA NA NA NA NA NA 218 NA ...
##  $ genus          : chr  &quot;Neotoma&quot; &quot;Neotoma&quot; &quot;Neotoma&quot; &quot;Neotoma&quot; ...
##  $ species        : chr  &quot;albigula&quot; &quot;albigula&quot; &quot;albigula&quot; &quot;albigula&quot; ...
##  $ taxa           : chr  &quot;Rodent&quot; &quot;Rodent&quot; &quot;Rodent&quot; &quot;Rodent&quot; ...
##  $ plot_type      : chr  &quot;Control&quot; &quot;Control&quot; &quot;Control&quot; &quot;Control&quot; ...
##  - attr(*, &quot;spec&quot;)=
##   .. cols(
##   ..   record_id = col_double(),
##   ..   month = col_double(),
##   ..   day = col_double(),
##   ..   year = col_double(),
##   ..   plot_id = col_double(),
##   ..   species_id = col_character(),
##   ..   sex = col_character(),
##   ..   hindfoot_length = col_double(),
##   ..   weight = col_double(),
##   ..   genus = col_character(),
##   ..   species = col_character(),
##   ..   taxa = col_character(),
##   ..   plot_type = col_character()
##   .. )</code></pre>
<p>Integer refers to a whole number, such as 1, 2, 3, 4, etc. Numbers with decimals, 1.0, 2.4, 3.333, are referred to as floats. Factors are used to represent categorical data. Factors can be ordered or unordered, and understanding them is necessary for statistical analysis and for plotting. Factors are stored as integers, and have labels (text) associated with these unique integers. While factors look (and often behave) like character vectors, they are actually integers under the hood, and you need to be careful when treating them like strings.</p>
<div id="inspecting-data.frame-objects" class="section level3">
<h3>Inspecting <code>data.frame</code> objects</h3>
<p>We already saw how the functions <code>head()</code> and <code>str()</code> can be useful to check the content and the structure of a data frame. Here is a non-exhaustive list of functions to get a sense of the content/structure of the data. Let’s try them out!</p>
<ul>
<li>Size:
<ul>
<li><code>dim(surveys)</code> - returns a vector with the number of rows in the first element and the number of columns as the second element (the dimensions of the object)</li>
<li><code>nrow(surveys)</code> - returns the number of rows</li>
<li><code>ncol(surveys)</code> - returns the number of columns</li>
</ul></li>
<li>Content:
<ul>
<li><code>head(surveys)</code> - shows the first 6 rows</li>
<li><code>tail(surveys)</code> - shows the last 6 rows</li>
</ul></li>
<li>Names:
<ul>
<li><code>names(surveys)</code> - returns the column names (synonym of <code>colnames()</code> for <code>data.frame</code> objects)</li>
<li><code>rownames(surveys)</code> - returns the row names</li>
</ul></li>
<li>Summary:
<ul>
<li><code>str(surveys)</code> - structure of the object and information about the class, length, and content of each column</li>
<li><code>summary(surveys)</code> - summary statistics for each column</li>
</ul></li>
</ul>
<p>Note: most of these functions are “generic”, they can be used on other types of objects besides <code>data.frame</code>.</p>
<div id="challenge-5" class="section level4">
<h4>Challenge</h4>
<p>Based on the output of <code>str(surveys)</code>, can you answer the following questions?</p>
<ul>
<li>What is the class of the object <code>surveys</code>?</li>
<li>How many rows and how many columns are in this object?</li>
<li>How many species have been recorded during these surveys?</li>
</ul>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb97-1" data-line-number="1">## Answers</a>
<a class="sourceLine" id="cb97-2" data-line-number="2">##</a>
<a class="sourceLine" id="cb97-3" data-line-number="3">## * class: data frame</a>
<a class="sourceLine" id="cb97-4" data-line-number="4">## * how many rows: 34786,  how many columns: 13</a>
<a class="sourceLine" id="cb97-5" data-line-number="5">## * how many species: 48</a></code></pre></div>
</div>
</div>
<div id="indexing-and-subsetting-data-frames" class="section level3">
<h3>Indexing and subsetting data frames</h3>
<p>Our survey data frame has rows and columns (it has 2 dimensions), if we want to extract some specific data from it, we need to specify the “coordinates” we want from it. Row numbers come first, followed by column numbers. Base R data frames, would return a different format depending on how we index the data (i.e. either a vector or a data frame), but with enhanced data frames, <code>tibbles</code>, the returned object is almost always a data frame.</p>
<p>R indices start at 1. Programming languages like Fortran, MATLAB, Julia, and R start counting at 1, because that’s what human beings typically do. Languages in the C family (including C++, Java, Perl, and Python) count from 0 because that was historically simpler for computers and can allow for more elegant code.</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb98-1" data-line-number="1">surveys[<span class="dv">1</span>, <span class="dv">1</span>]   <span class="co"># first element in the first column of the data frame</span></a></code></pre></div>
<pre><code>## # A tibble: 1 x 1
##   record_id
##       &lt;dbl&gt;
## 1         1</code></pre>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb100-1" data-line-number="1">surveys[<span class="dv">1</span>, <span class="dv">6</span>]   <span class="co"># first element in the 6th column</span></a></code></pre></div>
<pre><code>## # A tibble: 1 x 1
##   species_id
##   &lt;chr&gt;     
## 1 NL</code></pre>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb102-1" data-line-number="1">surveys[, <span class="dv">1</span>]    <span class="co"># first column in the data frame</span></a></code></pre></div>
<pre><code>## # A tibble: 34,786 x 1
##    record_id
##        &lt;dbl&gt;
##  1         1
##  2        72
##  3       224
##  4       266
##  5       349
##  6       363
##  7       435
##  8       506
##  9       588
## 10       661
## # … with 34,776 more rows</code></pre>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb104-1" data-line-number="1">surveys[<span class="dv">1</span>]      <span class="co"># first column in the data frame</span></a></code></pre></div>
<pre><code>## # A tibble: 34,786 x 1
##    record_id
##        &lt;dbl&gt;
##  1         1
##  2        72
##  3       224
##  4       266
##  5       349
##  6       363
##  7       435
##  8       506
##  9       588
## 10       661
## # … with 34,776 more rows</code></pre>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb106-1" data-line-number="1">surveys[<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>, <span class="dv">7</span>] <span class="co"># first three elements in the 7th</span></a></code></pre></div>
<pre><code>## # A tibble: 3 x 1
##   sex  
##   &lt;chr&gt;
## 1 M    
## 2 M    
## 3 &lt;NA&gt;</code></pre>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb108-1" data-line-number="1">surveys[<span class="dv">3</span>, ]    <span class="co"># the 3rd element for all columns</span></a></code></pre></div>
<pre><code>## # A tibble: 1 x 13
##   record_id month   day  year plot_id species_id sex   hindfoot_length
##       &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;           &lt;dbl&gt;
## 1       224     9    13  1977       2 NL         &lt;NA&gt;               NA
## # … with 5 more variables: weight &lt;dbl&gt;, genus &lt;chr&gt;, species &lt;chr&gt;,
## #   taxa &lt;chr&gt;, plot_type &lt;chr&gt;</code></pre>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb110-1" data-line-number="1">surveys[<span class="dv">1</span><span class="op">:</span><span class="dv">6</span>, ]  <span class="co"># equivalent to head(surveys)</span></a></code></pre></div>
<pre><code>## # A tibble: 6 x 13
##   record_id month   day  year plot_id species_id sex   hindfoot_length
##       &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;           &lt;dbl&gt;
## 1         1     7    16  1977       2 NL         M                  32
## 2        72     8    19  1977       2 NL         M                  31
## 3       224     9    13  1977       2 NL         &lt;NA&gt;               NA
## 4       266    10    16  1977       2 NL         &lt;NA&gt;               NA
## 5       349    11    12  1977       2 NL         &lt;NA&gt;               NA
## 6       363    11    12  1977       2 NL         &lt;NA&gt;               NA
## # … with 5 more variables: weight &lt;dbl&gt;, genus &lt;chr&gt;, species &lt;chr&gt;,
## #   taxa &lt;chr&gt;, plot_type &lt;chr&gt;</code></pre>
<p><code>:</code> is a special function that creates numeric vectors of integers in increasing or decreasing order, test <code>1:10</code> and <code>10:1</code> for instance. This works similar to <code>seq</code>, which we looked at earlier in class:</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb112-1" data-line-number="1"><span class="dv">0</span><span class="op">:</span><span class="dv">10</span></a></code></pre></div>
<pre><code>##  [1]  0  1  2  3  4  5  6  7  8  9 10</code></pre>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb114-1" data-line-number="1"><span class="kw">seq</span>(<span class="dv">0</span>, <span class="dv">10</span>)</a></code></pre></div>
<pre><code>##  [1]  0  1  2  3  4  5  6  7  8  9 10</code></pre>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb116-1" data-line-number="1"><span class="co"># We can test if all elements are the same</span></a>
<a class="sourceLine" id="cb116-2" data-line-number="2"><span class="dv">0</span><span class="op">:</span><span class="dv">10</span> <span class="op">==</span><span class="st"> </span><span class="kw">seq</span>(<span class="dv">0</span>,<span class="dv">10</span>)</a></code></pre></div>
<pre><code>##  [1] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE</code></pre>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb118-1" data-line-number="1"><span class="kw">all</span>(<span class="dv">0</span><span class="op">:</span><span class="dv">10</span> <span class="op">==</span><span class="st"> </span><span class="kw">seq</span>(<span class="dv">0</span>,<span class="dv">10</span>))</a></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>You can also exclude certain parts of a data frame using the “<code>-</code>” sign:</p>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb120-1" data-line-number="1">surveys[,<span class="op">-</span><span class="dv">1</span>]    <span class="co"># All columns, except the first</span></a></code></pre></div>
<pre><code>## # A tibble: 34,786 x 12
##    month   day  year plot_id species_id sex   hindfoot_length weight genus
##    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;           &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;
##  1     7    16  1977       2 NL         M                  32     NA Neot…
##  2     8    19  1977       2 NL         M                  31     NA Neot…
##  3     9    13  1977       2 NL         &lt;NA&gt;               NA     NA Neot…
##  4    10    16  1977       2 NL         &lt;NA&gt;               NA     NA Neot…
##  5    11    12  1977       2 NL         &lt;NA&gt;               NA     NA Neot…
##  6    11    12  1977       2 NL         &lt;NA&gt;               NA     NA Neot…
##  7    12    10  1977       2 NL         &lt;NA&gt;               NA     NA Neot…
##  8     1     8  1978       2 NL         &lt;NA&gt;               NA     NA Neot…
##  9     2    18  1978       2 NL         M                  NA    218 Neot…
## 10     3    11  1978       2 NL         &lt;NA&gt;               NA     NA Neot…
## # … with 34,776 more rows, and 3 more variables: species &lt;chr&gt;,
## #   taxa &lt;chr&gt;, plot_type &lt;chr&gt;</code></pre>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb122-1" data-line-number="1">surveys[<span class="op">-</span><span class="kw">c</span>(<span class="dv">7</span><span class="op">:</span><span class="dv">34786</span>),] <span class="co"># Equivalent to head(surveys)</span></a></code></pre></div>
<pre><code>## # A tibble: 6 x 13
##   record_id month   day  year plot_id species_id sex   hindfoot_length
##       &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;           &lt;dbl&gt;
## 1         1     7    16  1977       2 NL         M                  32
## 2        72     8    19  1977       2 NL         M                  31
## 3       224     9    13  1977       2 NL         &lt;NA&gt;               NA
## 4       266    10    16  1977       2 NL         &lt;NA&gt;               NA
## 5       349    11    12  1977       2 NL         &lt;NA&gt;               NA
## 6       363    11    12  1977       2 NL         &lt;NA&gt;               NA
## # … with 5 more variables: weight &lt;dbl&gt;, genus &lt;chr&gt;, species &lt;chr&gt;,
## #   taxa &lt;chr&gt;, plot_type &lt;chr&gt;</code></pre>
<p>As well as using numeric values to subset a <code>data.frame</code> (or <code>matrix</code>), columns can be called by name, using one of the four following notations: <!-- Note sure how important it is to learn these difference vs just teaching the preferred way with the footnote that there are other ways also. --></p>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb124-1" data-line-number="1">surveys[<span class="st">&quot;species_id&quot;</span>]       <span class="co"># Result is a data.frame</span></a></code></pre></div>
<pre><code>## # A tibble: 34,786 x 1
##    species_id
##    &lt;chr&gt;     
##  1 NL        
##  2 NL        
##  3 NL        
##  4 NL        
##  5 NL        
##  6 NL        
##  7 NL        
##  8 NL        
##  9 NL        
## 10 NL        
## # … with 34,776 more rows</code></pre>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb126-1" data-line-number="1">surveys[, <span class="st">&quot;species_id&quot;</span>]     <span class="co"># Result is a data.frame</span></a></code></pre></div>
<pre><code>## # A tibble: 34,786 x 1
##    species_id
##    &lt;chr&gt;     
##  1 NL        
##  2 NL        
##  3 NL        
##  4 NL        
##  5 NL        
##  6 NL        
##  7 NL        
##  8 NL        
##  9 NL        
## 10 NL        
## # … with 34,776 more rows</code></pre>
<p>For our purposes, these notations are equivalent. RStudio knows about the columns in your data frame, so you can take advantage of the autocompletion feature to get the full and correct column name.</p>
<p>Another syntax that is often used to specify column names is <code>$</code>. In this case, the returned object is actually a vector. We will not go into detail about this, but since it is such common usage, it is good to be aware of this.</p>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb128-1" data-line-number="1"><span class="co"># We use `head()` since the output from vectors are not automatically cut off</span></a>
<a class="sourceLine" id="cb128-2" data-line-number="2"><span class="co"># and we don&#39;t want to clutter the screen with all the `species_id` values</span></a>
<a class="sourceLine" id="cb128-3" data-line-number="3"><span class="kw">head</span>(surveys<span class="op">$</span>species_id)          <span class="co"># Result is a vector</span></a></code></pre></div>
<pre><code>## [1] &quot;NL&quot; &quot;NL&quot; &quot;NL&quot; &quot;NL&quot; &quot;NL&quot; &quot;NL&quot;</code></pre>
<div id="challenge-6" class="section level4">
<h4>Challenge</h4>
<ol style="list-style-type: decimal">
<li><p>Create a <code>data.frame</code> (<code>surveys_200</code>) containing only the observations from row 200 of the <code>surveys</code> dataset.</p></li>
<li><p>Notice how <code>nrow()</code> gave you the number of rows in a <code>data.frame</code>?</p>
<ul>
<li>Use that number to pull out just that last row in the data frame.</li>
<li>Compare that with what you see as the last row using <code>tail()</code> to make sure it’s meeting expectations.</li>
<li>Pull out that last row using <code>nrow()</code> instead of the row number.</li>
<li>Create a new data frame object (<code>surveys_last</code>) from that last row.</li>
</ul></li>
<li><p>Use <code>nrow()</code> to extract the row that is in the middle of the data frame. Store the content of this row in an object named <code>surveys_middle</code>.</p></li>
<li><p>Combine <code>nrow()</code> with the <code>-</code> notation above to reproduce the behaviour of <code>head(surveys)</code> keeping just the first through 6th rows of the surveys dataset.</p></li>
</ol>
<div class="sourceCode" id="cb130"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb130-1" data-line-number="1">## Answers</a>
<a class="sourceLine" id="cb130-2" data-line-number="2">surveys_<span class="dv">200</span> &lt;-<span class="st"> </span>surveys[<span class="dv">200</span>, ]</a>
<a class="sourceLine" id="cb130-3" data-line-number="3">surveys_last &lt;-<span class="st"> </span>surveys[<span class="kw">nrow</span>(surveys), ]</a>
<a class="sourceLine" id="cb130-4" data-line-number="4">surveys_middle &lt;-<span class="st"> </span>surveys[<span class="kw">nrow</span>(surveys)<span class="op">/</span><span class="dv">2</span>, ]</a>
<a class="sourceLine" id="cb130-5" data-line-number="5">surveys_head &lt;-<span class="st"> </span>surveys[<span class="op">-</span><span class="kw">c</span>(<span class="dv">7</span><span class="op">:</span><span class="kw">nrow</span>(surveys)),]</a></code></pre></div>
<p>In our next lecture, we will dive into wrangling our <code>surveys</code> dataset using <code>dplyr</code>.</p>
</div>
</div>
</div>
<div class="footnotes">
<hr />
<ol>
<li id="fn1"><p>Refer to the <a href="https://uoftcoders.github.io/rcourse/resources.html">class resources page</a> for which style to adhere to.<a href="#fnref1" class="footnote-back">↩</a></p></li>
<li id="fn2"><p>There are a few other symbols as well, all of which can be viewed at the end of <a href="https://support.rstudio.com/hc/en-us/articles/205273297-Code-Completion">this post about RStudio code completion</a>.<a href="#fnref2" class="footnote-back">↩</a></p></li>
</ol>
</div>


<hr>

<p>This work is licensed under a <a href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>. See the <a href="LICENSE.html">licensing</a> page for more details about copyright information.</p>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
